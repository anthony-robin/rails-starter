language: ruby
cache: bundler
rvm:
- 1.9.3
- 2.0.0
- 2.2.0
env:
- DB=mysql
- DB=postgresql
before_script:
- cp config/database.travis.yml config/database.yml
- cp config/application.example.yml config/application.yml
- mysql -e 'create database rails_starter_test'
- psql -c 'create database rails_starter_test' -U postgres
script:
- RAILS_ENV=test bundle exec rake --trace db:migrate
- RAILS_ENV=test bundle exec rake test
addons:
  code_climate:
    repo_token:
      secure: b6mrCBirtmuHlSsxhKBHEZsbw8StVaaqS7ocB7wYotw+OP8hElkpZb7/Yb7+aGCsClI822n+mhavlGh6QpFlXvT6ptgefyj5Z/Z8HmlOjH8fYmkxYQLTfQ8dzUq6XEngELhHPq9kMskfZgbSH9Q85r/4zapmdE2FJ4dJXNL9XvA=
notifications:
  email: false
  slack:
    secure: C5mVOWuJfFpZwtZQigkATqvgQxXjmo1YnnGRvbsauSpDI9it362L1GsQ50duaSTN//8GfWMqG12bGY4oW8NOgvR/AzrRUD1aAz6ByLaEpb8TKfBbrO5sYSAZn4FRV39aCaAcW6ZuTKJxBmsHo2bdFFpRP07Vmi0bFRRNQO2n+sY=