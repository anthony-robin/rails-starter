# frozen_string_literal: true

f.semantic_errors(*f.object.errors.keys)

render 'admin/shared/form_general', f: f

if f.object.is_a?(Blog)
  f.inputs t('activerecord.models.blog_category.one') do
    f.input :blog_category,
            as: :select,
            include_blank: false,
            collection: BlogCategory.all
  end
end

f.columns do
  f.column do
    render 'admin/shared/form_translation', f: f
  end
  f.column do
    render 'admin/shared/referencement/form', f: f
  end
end

f.columns do
  f.column do
    render 'admin/shared/pictures/many', f: f
  end
end

if video_module.enabled?
  if video_settings.video_platform?
    if defined?(has_one_relation) && has_one_relation
      render 'admin/shared/video_platforms/one', f: f
    else
      render 'admin/shared/video_platforms/many', f: f
    end
  end

  if video_settings.video_upload?
    if defined?(has_one_relation) && has_one_relation
      render 'admin/shared/video_uploads/one', f: f
    else
      render 'admin/shared/video_uploads/many', f: f
    end
  end
end

render 'admin/shared/audios/one', f: f if f.object.is_a?(Blog) && audio_module.enabled?

f.actions
