f.semantic_errors(*f.object.errors.keys)

f.columns do
  f.column do
    f.inputs 'Paramètres du site' do
      f.columns do
        f.column do
          f.translated_inputs 'Translated fields', switch_locale: true do |t|
            t.input :title,
                    hint: 'Titre du site'
            t.input :subtitle,
                    hint: 'Sous-titre du site'
          end
        end
      end

      f.columns id: 'logos-container' do
        f.column do
          f.input :logo, hint: raw("<p class='paperclip-preview'>#{retina_image_tag(f.object, :logo, :small)}</p>")
          if f.object.logo?
            f.input :delete_logo,
                    as: :boolean,
                    hint: 'Si coché, le logo sera supprimé après mise à jour des paramètres'
          end
        end

        f.column do
          f.input :logo_footer, hint: f.object.logo_footer? ? raw("<p class='paperclip-preview logo-footer'>#{retina_image_tag(f.object, :logo_footer, :small)}</p>") : ''
          if f.object.logo_footer?
            f.input :delete_logo_footer,
                    as: :boolean,
                    hint: 'Si coché, le logo du pied de page sera supprimé après mise à jour des paramètres'
          end
        end
      end

      f.input :maintenance, hint: 'Mettre le site en maintenance a pour effet de rendre le contenu inaccessible sur internet'
    end
  end

  f.column do
    f.inputs 'Paramètres de l\'administrateur' do
      f.input :name, hint: 'Nom du propriétaire du site'
      f.input :email, hint: 'Email d\'où seront reçus les messages de contact'
      f.input :phone, as: :phone, hint: 'Numéro de téléphone à afficher sur le site pour vous joindre'
      f.input :phone_secondary, as: :phone, hint: 'Numéro de téléphone secondaire. Laissez vide si ce champs ne vous sert pas'
    end
  end
end

f.columns do
  f.column do
    render 'admin/shared/locations/one', f: f, full: true
  end

  f.column do
    f.inputs 'Paramètres des modules' do
      f.input :show_map, hint: 'Afficher ou non la carte positionnant votre activité sur la page contact' if map_module.enabled?
      f.input :show_breadcrumb, hint: 'Afficher ou non le fil d\'ariane sur le site' if breadcrumb_module.enabled?
      f.input :show_social, hint: 'Afficher ou non les icônes de partage social sur le site' if social_module.enabled?
      f.input :show_qrcode, hint: 'Afficher ou non le qrcode (sur la page contact) ajoutant vos informations de contact sur le smartphone des internautes ' if qrcode_module.enabled?
      f.input :twitter_username, hint: 'Si vous disposez d\'un compte sur Twitter, vous pouvez indiquer votre nom d\'utilisateur. Cela permet aux personnes partageant votre site de vous identitfier sur Twitter'
    end
  end
end

f.columns do
  f.column do
    f.inputs 'Paramètres généraux' do
      f.input :show_admin_bar,
              hint: 'Si coché, un bandeau sera présent en haut du site (partie publique), donnant accès à quelques raccourcis de l\'administration. Ce bandeau n\'est visible que par l\'administrateur du site, les internautes ne le verront pas.'
      f.input :per_page,
              as: :select,
              collection: Setting.per_page_values,
              include_blank: false,
              hint: 'Choisissez le nombre d\'articles à afficher avant la pagination. Si vous souhaitez afficher tous les articles sur une seule page, sélectionnez la valeur 0'

      f.input :date_format,
              as: :radio,
              collection: Setting.date_format.options,
              hint: 'Choisissez le format de la date à afficher (<strong>date seulement</strong>, <strong>date + heure</strong> ou sous la forme "<strong>Il y a 10 minutes</strong>)"'.html_safe
    end
  end
end

f.actions
