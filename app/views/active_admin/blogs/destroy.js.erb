// Variables
$post = $("#blog-<%= resource.id %>");
$sidebar = $('#blog__sidebar');
index = $('.posts.index').length > 0 ? true : false

if(index) {
  // SlideUp destroyed article
  $post.parent().slideUp(300, function() {
    reload_masonry();
  });

  // SlideUp article from 'last blogs' section
  $sidebar.find(".last-blogs #blog-<%= resource.id %>__sidebar").slideUp();

  // Recalculates scrolling points after adding Ajax content
  <%= render 'blogs/sidebar/sticky_fix' %>
} else {
  Turbolinks.visit('/blogs');
}

// Reload Masonry position for new added items
function reload_masonry() {
  var $container = $('#masonry-container');
  if($container.length > 0 && !isSmall()) {
    $container.masonry('reloadItems').masonry();
  }
}
